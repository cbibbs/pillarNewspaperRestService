var pillarNewspaper = require("services/pillarNewspaper");


function pillarNewspaperRest(app) {
  var advertisementTracker = new pillarNewspaper();

  app.post("/pillarNewspaper/advertisement", function(req, res) {
    advertisementTracker.advertisement(req.body)
      .done(function() {
        res.send();
      })
      .fail(function(err) {
        res.send(500, err);
      });
  });

  app.get("/pillarNewspaper/advertisement/all", function(req, res) {
    advertisementTracker.advertisementList(req.body)
      .done(function(advertisementList) {
        res.send(advertisementList);
      })
      .fail(function(err) {
        res.send(500, err);
      });

  });

   app.post("/pillarNewspaper/newspaper", function(req, res) {
    advertisementTracker.newspaper(req.body)
      .done(function() {
        res.send();
      })
      .fail(function(err) {
        res.send(500, err);
      });
  });

  app.get("/pillarNewspaper/newspaper/all", function(req, res) {
    advertisementTracker.newspaperList(req.body)
      .done(function(newspapers) {
        res.send(newspapers);
      })
      .fail(function(err) {
        res.send(500, err);
      });

  });

  app.post("/pillarNewspaper/newspaper/:nid/advertisement/:aid", function(req, res) {
    advertisementTracker.placeAd(req.params.nid,req.params.aid)
      .done(function() {
        res.send();
      })
      .fail(function(err) {
        res.send(500, err);
      });
  });

  app.get("/pillarNewspaper/newspaper/:nid/advertisement/", function(req, res) {
      advertisementTracker.showPaperAds(req.params.nid)
        .done(function(adsInPaper) {
          res.send(adsInPaper);
        })
        .fail(function(err) {
          res.send(500, err);
        });

  });

  app.get("/pillarNewspaper/advertisement/:aid/newspaper/", function(req, res) {
      advertisementTracker.showPapersWithAd(req.params.aid)
        .done(function(papersWithAd) {
          res.send(papersWithAd);
        })
        .fail(function(err) {
          res.send(500, err);
        });

  });

}


module.exports = pillarNewspaperRest;
